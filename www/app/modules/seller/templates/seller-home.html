<ion-header-bar class="bar bar-header header-md bar-darker">
  <div style="width: 100%; display: inherit; margin-top: 0px !important;">
    <div class="search-box-wrapper">
      <div class="absolute toggle-side-wrapper">
        <a class="button button-icon row" ng-click="goHome()">
          <i class="ion-android-arrow-back font-L white"></i>
        </a>
      </div>
      <h4 class="white left-title">{{'ADD_ITEM' | translate}}</h4>
    </div>
  </div>
</ion-header-bar>

<ion-view>
  <ion-content style="padding-left: 20px;
  padding-right: 20px;
  margin-top: 20px;
  margin-bottom: 10px;" 
  >

    <div class="topic align-left">{{'ITEM_DETAILS' | translate}}</div>

    <div class="textbox">
        <input type="text" placeholder="{{'WHAT_IS_YOUR_PRODUCT_NAME' | translate}} *" ng-model="item.name">
    </div>

    <div class="textbox">
      <textarea type="text" rows="4" placeholder="{{'TELL_US_ABOUT_YOUR_ITEM' | translate}} *" ng-model="item.description"></textarea>
    </div>
    
    <div class="textbox">
      <md-select ng-model="category.catLevel1" placeholder="{{'PLEASE_SELECT_TYPE_OF_ITEM' | translate}}" class="md-no-underline">
        <md-option ng-repeat="cat_level_1 in cat_tabs track by $index" value="{{$index}}">{{cat_level_1.name}}</md-option>
      </md-select>
    </div>

    <div class="textbox" ng-if="category.catLevel1">
      <md-select ng-model="category.catLevel2" placeholder="{{'PLEASE_SELECT_MAIN_CATEGORY' | translate}}" class="md-no-underline">
        <md-option ng-repeat="cat_level_2 in cat_tabs[category.catLevel1].categories track by $index" value="{{$index}}">{{cat_level_2.name}}</md-option>
      </md-select>
    </div>

    <div class="textbox" ng-if="category.catLevel2">
      <md-select ng-model="category.catLevel3" ng-change="setItemCategory()" placeholder="Please select a sub category" class="md-no-underline">
        <md-option ng-repeat="cat_level_3 in cat_tabs[category.catLevel1].categories[category.catLevel2].categories track by $index" value="{{$index}}">{{cat_level_3.name}}</md-option>
      </md-select>
    </div>

    <div class="square category-chip" ng-click="signUp()" ng-repeat="category in item.category">
      {{category.name}}
    </div>

    <div class="textbox">
      <input type="text" placeholder="{{'WHAT_IS_THE_MODEL_OF_YOUR_PRODUCT' | translate}} *" ng-model="item.model">
    </div>
    
    <div class="row zero-padding">
      <div class="col zero-padding" style="max-width:153px;margin-right: 5px;">
        <div class="textbox">
          <md-select ng-model="item.currency_code" placeholder="{{'CURRENCY' | translate}} *" class="md-no-underline">
            <md-option ng-repeat="currency in currencies track by $index" value="{{currency.code}}">{{currency.title}}</md-option>
          </md-select>
        </div>
      </div>
      <div class="col zero-padding">
        <div class="textbox">
          <input type="number" placeholder="{{'WHAT_IS_THE_PRICE_OF_YOUR_PRODUCT' | translate}} *" ng-model="item.price">
        </div>
      </div>
    </div>
    
    <div class="topic align-left" style="margin-top:10px">{{'DIMENTIONS' | translate}}</div>

    <div class="textbox">
      <md-select ng-model="item.dimensionMeasureUnit" placeholder="{{'MEASURE_UNIT' | translate}} *" class="md-no-underline">
        <md-option ng-repeat="measure in dimensionMeasures track by $index" value="{{measure}}">{{measure}}</md-option>
      </md-select>
    </div>

    <div class="row zero-padding">
        <div class="col zero-padding" style="margin-right: 10px">
          <div class="textbox">
            <input type="number" placeholder="{{'LENGTH' | translate}} *" ng-model="item.length">
          </div>
        </div>
        <div class="col zero-padding">
          <div class="textbox">
              <input type="number" placeholder="{{'WIDTH' | translate}} *" ng-model="item.width">
          </div>
        </div>
        <div class="col zero-padding" style="margin-left: 10px">
          <div class="textbox">
            <input type="number" placeholder="{{'WHAT_IS_THE_HEIGHT_OF_YOUR_PRODUCT' | translate}} *" ng-model="item.height">
          </div>
        </div>
    </div>

    <div class="topic align-left" style="margin-top:10px">{{'ITEM_WEIGHT' | translate}}</div>

    <div class="textbox">
      <md-select ng-model="item.weightMeasureUnit" placeholder="{{'MEASURE_UNIT' | translate}} *" class="md-no-underline">
        <md-option ng-repeat="measure in weightMeasures track by $index" value="{{measure}}">{{measure}}</md-option>
      </md-select>
    </div>

    <div class="textbox">
      <input type="number" placeholder="{{'WHAT_IS_THE_WEIGHT_OF_YOUR_PRODUCT' | translate}} *" ng-model="item.weight">
    </div>

    <div class="textbox">
        <input type="number" placeholder="{{'QUANTITY_AVAILABLE' | translate}} *" ng-model="item.quantity">
    </div>

    <div class="topic align-left" style="margin-top:20px">{{'Options' | translate}}</div>

    <div class="square category-chip" style="margin-bottom: 20px" ng-click="deleteOption(option)" ng-repeat="option in selectedOptions track by $index">
        {{option.name}} - {{option.product_option_value.name}} X
    </div>

    <div class="addButton" ng-click="addNewOptionPlaceholder()" ng-if="showAddOptionPlaceholderButton">
        <i class="icon ion-plus"></i>
        <!-- Add new option -->
    </div>

   <div ng-if="optionsCount > 0">
      <div class="row zero-padding">
        <div class="textbox">
          <md-select ng-model="selection.selectionId" ng-change="getOptionsFor(selection)" placeholder="{{'SELECT_OPTION' | translate}} *" class="md-no-underline">
            <md-option ng-repeat="option in options track by $index" ng-if="option.option_value.length > 0"
            value="{{option.option_id}}" aria-label='option.name'>{{option.name}}</md-option>
          </md-select>
        </div>
      </div>
    
      <div ng-repeat="addedOption in selection.options track by $index" ng-if="!showAddOptionPlaceholderButton">
        <div class="row zero-padding">
          <div ng-if="addedOption.option_value.length > 0" class="col zero-padding">
            <div class="textbox" ng-if="optionsChooseRequiredPassed">
              <md-select ng-model="currentChosenOption" ng-change="setChosenOptionDetails(currentChosenOption)" placeholder="{{'CHOOSE' | translate}} {{addedOption.name}} *" class="md-no-underline">
                <md-option ng-repeat="option_value in addedOption.option_value track by $index" ng-if="!option_value.hide"
                value="{{option_value}}" aria-label='option_value.name'>{{option_value.name}}</md-option>
              </md-select>
            </div>
            <div class="textbox-red" ng-if="!optionsChooseRequiredPassed">
                <md-select ng-model="currentChosenOption" ng-change="setChosenOptionDetails(currentChosenOption)" placeholder="{{'CHOOSE' | translate}} {{addedOption.name}}" class="md-no-underline">
                  <md-option ng-repeat="option_value in addedOption.option_value track by $index"
                  value="{{option_value}}" aria-label='option_value.name'>{{option_value.name}}</md-option>
                </md-select>
              </div>
            <div class="textbox-no-border">
              <md-checkbox required md-no-ink ng-model="currentOption.product_option_value.required" aria-label="{{'REQUIRED' | translate}}">
                  <div>{{'REQUIRED' | translate}}</div>
              </md-checkbox>
            </div>
            <div class="textbox-no-border">
              <md-checkbox md-no-ink ng-model="currentOption.product_option_value.subtract_quantity" aria-label="{{'SUBSTRACT_QUANTITY' | translate}}">
                  {{'SUBSTRACT_QUANTITY' | translate}}
              </md-checkbox>
            </div>
            <div class="textbox" ng-if="optionsQuantityRequiredPassed">
                <input type="number" placeholder="{{'SPECIFY_QUANTITY' | translate}}" ng-model="currentOption.product_option_value.quantity">
            </div>
            <div class="textbox-red" ng-if="!optionsQuantityRequiredPassed">
                <input type="number" placeholder="{{'SPECIFY_QUANTITY' | translate}}" ng-model="currentOption.product_option_value.quantity">
            </div>
            <div class="textbox">
                <input type="number" placeholder="{{'SPECIFY_PRICE_RANGE' | translate}}" ng-model="currentOption.product_option_value.price">
            </div>
          </div>
        </div>
      </div>
      <div class="button custom-height-button button-block addOptionButton" ng-click="addOption(selection.options[0])" ng-if="showAddOptionButton">
          <div>{{'ADD_OPTION' | translate}}</div>
      </div>
   </div>

  
  

    <!-- <div ng-repeat="option in options" ng-if="options.length > 0">
      <div class="row zero-padding">
        <div ng-if="option.option_value.length > 0" class="col zero-padding">
          <div class="textbox">
            <md-select ng-model="item[option.name]" placeholder="{{option.name}}" class="md-no-underline">
              <md-option ng-repeat="option_value in option.option_value track by $index" 
              value="{{option_value.name}}" aria-label='option_value.name'>{{option_value.name}}</md-option>
            </md-select>
          </div>
        </div>
      </div>
    </div> -->

    

    <!-- <div class="row zero-padding" ng-repeat="option in options">
        <div class="col zero-padding">
          <div ng-if="option.type == 'text' || option.type == 'texttextarea'">
            <label class="item item-input text-xmd add-item-textbox">
              <input type="number" placeholder="{{option.name}}" ng-model="item[option.name]">
            </label>
          </div>
          <div ng-if="option.type == 'select'">
            <div layout="row" layout-align="space-between center">
              <div class="textbox">
                <md-select ng-model="item[option.name]" placeholder="{{option.name}}" class="md-no-underline">
                  <md-option ng-repeat="option_value in option.option_value track by $index" 
                  value="{{option_value.name}}" aria-label='option_value.name'>{{option_value.name}}</md-option>
                </md-select>
              </div>
            </div>
          </div>
          <div ng-if="option.type == 'radio'">
            <div layout="row" layout-align="space-between center">
              <div class="row" style="margin-left: 20px">
                <label>{{option.name}}</label>
              </div>
              <md-radio-group ng-model="item[option.name]">
                  <md-radio-button ng-repeat="option_value in option.option_value track by $index"
                        ng-value="option_value.name">{{option_value.name}}</md-radio-button>
              </md-radio-group>
            </div>
          </div>
          
          <div ng-if="option.type == 'checkbox'">
            <div layout="row" layout-align="space-between center" style="margin-top: 20px" >
              <div class="row" style="margin-left: 20px">
                <label>{{option.name}}</label>
              </div>
              <div class="row" style="text-align: right">
                <div class="column">
                    <md-checkbox ng-model="item[option.name]" 
                    ng-repeat="option_value in option.option_value track by $index" 
                    ng-value="option_value.name" style= "margin-right: 0px !important">
                        {{option_value.name}}
                    </md-checkbox>
                </div>
                  
              </div>
            </div>
            </div>
        </div>
    </div> -->

    <div style="height: 100px;">

    </div>

    <div>
      <a class="button custom-height-button button-sm square button-block button-orange capital" ng-click="addItem();">
        {{"NEXT" | translate}}
      </a>
    </div>
  </ion-content>

  <div side-nav></div>
</ion-view>